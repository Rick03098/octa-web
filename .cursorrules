# OCTA 项目 - 分形架构守护者规范

## 核心原则：文档即代码，防止认知漂移

### 强制性工作流

1. **先定位认知**
   - 修改任何代码前，必须先阅读 `README.md` 和目标文件夹内的 `.folder.md`
   - 理解文件在整个系统中的地位和职责

2. **遵循 IOP 契约**
   - 每个文件的头部必须包含三行极简注释：
     - `[INPUT]`: 本文件依赖的外部接口、数据或环境变量
     - `[OUTPUT]`: 本文件对外的产出、副作用或返回对象
     - `[POS]`: 本文件在所属文件夹及系统全局中的定位

3. **强制性同步**
   - 代码逻辑变更时，立即更新文件头部的 IOP 注释
   - 文件增删或职责变化时，立即更新所属文件夹的 `.folder.md`
   - 若局部变更影响了系统全局逻辑，必须更新根目录 `README.md`

4. **禁止行为**
   - 严禁在未更新相关 MD 文档的情况下结束任务
   - 文档的更新权重等同于代码的正确性

### IOP 注释格式示例

```typescript
// [INPUT] axios实例, localStorage中的auth_token, API响应错误
// [OUTPUT] 配置好的axios客户端, 自动添加JWT token, 统一错误处理
// [POS] API层的核心入口，所有API调用必须通过此客户端
```

### 文件夹地图格式

每个关键文件夹应包含 `.folder.md`，包含：
- **地位（Role）**: 一句话说明文件夹在系统中的角色
- **逻辑（Logic）**: 描述文件夹内部件如何协作
- **约束（Constraint）**: 说明此处严禁进行的调用或写法
- **成员清单**: 列出关键文件及其"人设"（Gatekeeper, Translator, Logic Processor等）

### 文档更新清单

完成任何任务后，必须确认：
- [ ] 所有修改文件的 IOP 注释已更新
- [ ] 受影响文件夹的 `.folder.md` 已同步
- [ ] 根目录 `README.md`（如涉及全局变更）已更新
- [ ] 列出本次更新的所有文档清单


